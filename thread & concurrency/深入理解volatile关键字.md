##深入理解volatile关键字

### 概念

了解volatile之前先了解下几个关键字的概念：

+ 原子性

    相关操作中途不会被其他线程干扰，一半通过同步机制实现。
    
    简而言之就是一次事务操作中，要么全部执行成功，如果一个节点执行失败就回滚，全部执行失败。


+ 可见性

  一个线程修改了某个共享变量，其状态能够立即被其他线程知晓。通常被解释为将线程本地状态反应到主内存上

+ 有序性

  保证线程内串行语义，避免指令重排序


### 保证线程可见性

1. 硬件层次

   缓存一致性（MESI）

   [CPU缓存一致性协议MESI](https://www.cnblogs.com/yanlong300/p/8986041.html)

   CPU三级缓存



### 禁止指令重排序

1. JMM内存屏障


